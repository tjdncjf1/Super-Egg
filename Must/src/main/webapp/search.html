<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Must</title>
  <script src="http://code.jquery.com/jquery-1.10.2.js"></script>
</head>
<body>

<script>
var searchItem = [];

$(function(){
  $("#searchButton").click(function() {
      var keyword = $("#searchValue").val();
      if(!keyword) {
          alert("검색어를 입력하세요.");
          return false;
      }
       
      var proxy_url = "http://openapi.naver.com/search?";
          proxy_url += "key=be6c30428660950b9ece4f651a0d2dba";
          proxy_url += "&target=shop";
          proxy_url += "&display=10";
          proxy_url += "&query="+ encodeURIComponent(keyword);
       
      $.ajax({
          url: "proxy.jsp",
          type: "get",
          data: {"url" : proxy_url},
          dataType: "xml",
          async: false,
          success: function(data){
                  console.log(data);
                  $(searchItem).empty();
                  $('.portfolio-items').empty();
              $(data).find("item").each(function(i){
                  var title = $(this).find("title").text();
                  var image = $(this).find("image").text();
                  var min_price = $(this).find("lprice").text();
                  var link = $(this).find("link").text();
                  var pId = $(this).find("productId").text();
                  searchItem.push(new item(title,image,min_price,link,pId));
                  
                  var output ='';
                  output += '<img src="' + searchItem[i].이미지주소 + '"/>';
                  $(output).appendTo('.portfolio-items');
                  
              });
          },
      });
       return false;
  });
});

function item(title, image, min_price, link, pId) {
  this.제목 = title;
  this.이미지주소 = image;
  this.최저가격 = min_price;
  this.주소 = link;
  this.상품코드 = pId;
}
</script>
 <input type="search" id="searchValue">
 <input type="button" value="검색" id="searchButton">
 <div class="portfolio-items"></div>
    
</body>
</html>




